#!/bin/bash

HIVE_LIB_DIR="/opt/cloudera/parcels/CDH-5.2.1-1.cdh5.2.1.p0.12/lib/hive/lib"
HCAT_LIB_DIR="/opt/cloudera/parcels/CDH-5.2.1-1.cdh5.2.1.p0.12/lib/hive-hcatalog/share"

HIVE_CLASSPATH=$HIVE_LIB_DIR/tempus-fugit-1.1.jar,$HIVE_LIB_DIR/hive-contrib.jar,$HIVE_LIB_DIR/hive-shims-common-secure.jar,$HIVE_LIB_DIR/hive-serde.jar,$HIVE_LIB_DIR/hive-beeline.jar,$HIVE_LIB_DIR/xz-1.0.jar,$HIVE_LIB_DIR/httpclient-4.2.5.jar,$HIVE_LIB_DIR/htrace-core.jar,$HIVE_LIB_DIR/geronimo-jta_1.1_spec-1.1.1.jar,$HIVE_LIB_DIR/servlet-api-2.5.jar,$HIVE_LIB_DIR/commons-httpclient-3.0.1.jar,$HIVE_LIB_DIR/hive-common-0.13.1-cdh5.2.1.jar,$HIVE_LIB_DIR/hive-service-0.13.1-cdh5.2.1.jar,$HIVE_LIB_DIR/commons-logging-1.1.3.jar,$HIVE_LIB_DIR/hive-exec.jar,$HIVE_LIB_DIR/junit-4.10.jar,$HIVE_LIB_DIR/hive-jdbc-0.13.1-cdh5.2.1.jar,$HIVE_LIB_DIR/bonecp-0.8.0.RELEASE.jar,$HIVE_LIB_DIR/hive-hwi-0.13.1-cdh5.2.1.jar,$HIVE_LIB_DIR/commons-cli-1.2.jar,$HIVE_LIB_DIR/hive-shims-common-0.13.1-cdh5.2.1.jar,$HIVE_LIB_DIR/hbase-hadoop2-compat.jar,$HIVE_LIB_DIR/httpcore-4.2.5.jar,$HIVE_LIB_DIR/jline-0.9.94.jar,$HIVE_LIB_DIR/ant-launcher-1.9.1.jar,$HIVE_LIB_DIR/libfb303-0.9.0.jar,$HIVE_LIB_DIR/hive-metastore.jar,$HIVE_LIB_DIR/hive-hbase-handler-0.13.1-cdh5.2.1.jar,$HIVE_LIB_DIR/hive-contrib-0.13.1-cdh5.2.1.jar,$HIVE_LIB_DIR/oro-2.0.8.jar,$HIVE_LIB_DIR/commons-compress-1.4.1.jar,$HIVE_LIB_DIR/derby-10.10.1.1.jar,$HIVE_LIB_DIR/hbase-common.jar,$HIVE_LIB_DIR/jersey-servlet-1.14.jar,$HIVE_LIB_DIR/commons-lang3-3.1.jar,$HIVE_LIB_DIR/stringtemplate-3.2.1.jar,$HIVE_LIB_DIR/geronimo-jaspic_1.0_spec-1.0.jar,$HIVE_LIB_DIR/servlet-api-2.5-20081211.jar,$HIVE_LIB_DIR/datanucleus-rdbms-3.2.9.jar,$HIVE_LIB_DIR/hbase-protocol.jar,$HIVE_LIB_DIR/hive-shims-0.23.jar,$HIVE_LIB_DIR/jpam-1.1.jar,$HIVE_LIB_DIR/hbase-server.jar,$HIVE_LIB_DIR/hive-exec-0.13.1-cdh5.2.1.jar,$HIVE_LIB_DIR/stax-api-1.0.1.jar,$HIVE_LIB_DIR/hive-shims-0.13.1-cdh5.2.1.jar,$HIVE_LIB_DIR/activation-1.1.jar,$HIVE_LIB_DIR/log4j-1.2.16.jar,$HIVE_LIB_DIR/hive-hbase-handler.jar,$HIVE_LIB_DIR/jta-1.1.jar,$HIVE_LIB_DIR/zookeeper.jar,$HIVE_LIB_DIR/hamcrest-core-1.1.jar,$HIVE_LIB_DIR/hive-ant-0.13.1-cdh5.2.1.jar,$HIVE_LIB_DIR/hbase-client.jar,$HIVE_LIB_DIR/hive-cli-0.13.1-cdh5.2.1.jar,$HIVE_LIB_DIR/jersey-server-1.14.jar,$HIVE_LIB_DIR/hive-testutils.jar,$HIVE_LIB_DIR/hive-jdbc.jar,$HIVE_LIB_DIR/hive-cli.jar,$HIVE_LIB_DIR/ant-1.9.1.jar,$HIVE_LIB_DIR/paranamer-2.3.jar,$HIVE_LIB_DIR/hive-shims-common-secure-0.13.1-cdh5.2.1.jar,$HIVE_LIB_DIR/jdo-api-3.0.1.jar,$HIVE_LIB_DIR/velocity-1.5.jar,$HIVE_LIB_DIR/antlr-runtime-3.4.jar,$HIVE_LIB_DIR/geronimo-annotation_1.0_spec-1.1.1.jar,$HIVE_LIB_DIR/hive-shims.jar,$HIVE_LIB_DIR/hive-shims-scheduler.jar,$HIVE_LIB_DIR/avro.jar,$HIVE_LIB_DIR/jsr305-1.3.9.jar,$HIVE_LIB_DIR/hive-service.jar,$HIVE_LIB_DIR/hive-ant.jar,$HIVE_LIB_DIR/antlr-2.7.7.jar,$HIVE_LIB_DIR/groovy-all-2.1.6.jar,$HIVE_LIB_DIR/datanucleus-api-jdo-3.2.6.jar,$HIVE_LIB_DIR/libthrift-0.9.0-cdh5-2.jar,$HIVE_LIB_DIR/commons-lang-2.6.jar,$HIVE_LIB_DIR/hive-shims-0.23-0.13.1-cdh5.2.1.jar,$HIVE_LIB_DIR/hive-hwi.jar,$HIVE_LIB_DIR/hive-common.jar,$HIVE_LIB_DIR/jetty-all-7.6.0.v20120127.jar,$HIVE_LIB_DIR/jetty-6.1.26.jar,$HIVE_LIB_DIR/hive-shims-scheduler-0.13.1-cdh5.2.1.jar,$HIVE_LIB_DIR/commons-io-2.4.jar,$HIVE_LIB_DIR/hive-shims-common.jar,$HIVE_LIB_DIR/hive-metastore-0.13.1-cdh5.2.1.jar,$HIVE_LIB_DIR/asm-commons-3.1.jar,$HIVE_LIB_DIR/hive-beeline-0.13.1-cdh5.2.1.jar,$HIVE_LIB_DIR/mail-1.4.1.jar,$HIVE_LIB_DIR/hive-testutils-0.13.1-cdh5.2.1.jar,$HIVE_LIB_DIR/hbase-hadoop-compat.jar,$HIVE_LIB_DIR/ST4-4.0.4.jar,$HIVE_LIB_DIR/jetty-util-6.1.26.jar,$HIVE_LIB_DIR/super-csv-2.2.0.jar,$HIVE_LIB_DIR/datanucleus-core-3.2.10.jar,$HIVE_LIB_DIR/asm-tree-3.1.jar,$HIVE_LIB_DIR/asm-3.2.jar,$HIVE_LIB_DIR/snappy-java-1.0.4.1.jar,$HIVE_LIB_DIR/hive-serde-0.13.1-cdh5.2.1.jar,$HIVE_LIB_DIR/commons-codec-1.4.jar

HCAT_CLASSPATH=$HCAT_LIB_DIR/webhcat/svr/lib/hive-webhcat-0.13.1-cdh5.2.1.jar,$HCAT_LIB_DIR/webhcat/svr/lib/netty-3.4.0.Final.jar,$HCAT_LIB_DIR/webhcat/svr/lib/commons-exec-1.1.jar,$HCAT_LIB_DIR/webhcat/svr/lib/commons-el-1.0.jar,$HCAT_LIB_DIR/webhcat/svr/lib/jersey-json-1.14.jar,$HCAT_LIB_DIR/webhcat/svr/lib/jackson-xc-1.9.2.jar,$HCAT_LIB_DIR/webhcat/svr/lib/jetty-all-server-7.6.0.v20120127.jar,$HCAT_LIB_DIR/webhcat/svr/lib/jersey-core-1.14.jar,$HCAT_LIB_DIR/webhcat/svr/lib/hadoop-hdfs.jar,$HCAT_LIB_DIR/webhcat/svr/lib/apacheds-kerberos-codec-2.0.0-M15.jar,$HCAT_LIB_DIR/webhcat/svr/lib/hadoop-auth.jar,$HCAT_LIB_DIR/webhcat/svr/lib/jasper-runtime-5.5.23.jar,$HCAT_LIB_DIR/webhcat/svr/lib/jaxb-api-2.2.2.jar,$HCAT_LIB_DIR/webhcat/svr/lib/jul-to-slf4j-1.7.5.jar,$HCAT_LIB_DIR/webhcat/svr/lib/curator-framework-2.6.0.jar,$HCAT_LIB_DIR/webhcat/svr/lib/xercesImpl-2.9.1.jar,$HCAT_LIB_DIR/webhcat/svr/lib/jaxb-impl-2.2.3-1.jar,$HCAT_LIB_DIR/webhcat/svr/lib/commons-daemon-1.0.3.jar,$HCAT_LIB_DIR/webhcat/svr/lib/wadl-resourcedoc-doclet-1.4.jar,$HCAT_LIB_DIR/webhcat/svr/lib/api-util-1.0.0-M20.jar,$HCAT_LIB_DIR/webhcat/svr/lib/jackson-core-asl-1.9.2.jar,$HCAT_LIB_DIR/webhcat/svr/lib/jackson-jaxrs-1.9.2.jar,$HCAT_LIB_DIR/webhcat/svr/lib/api-asn1-api-1.0.0-M20.jar,$HCAT_LIB_DIR/webhcat/svr/lib/xml-apis-1.3.04.jar,$HCAT_LIB_DIR/webhcat/svr/lib/apacheds-i18n-2.0.0-M15.jar,$HCAT_LIB_DIR/webhcat/svr/lib/jsp-api-2.1.jar,$HCAT_LIB_DIR/webhcat/svr/lib/jettison-1.1.jar,$HCAT_LIB_DIR/webhcat/svr/lib/stax-api-1.0-2.jar,$HCAT_LIB_DIR/webhcat/java-client/hive-webhcat-java-client.jar,$HCAT_LIB_DIR/webhcat/java-client/hive-webhcat-java-client-0.13.1-cdh5.2.1.jar,$HCAT_LIB_DIR/hcatalog/hive-hcatalog-core.jar,$HCAT_LIB_DIR/hcatalog/hive-hcatalog-server-extensions.jar,$HCAT_LIB_DIR/hcatalog/storage-handlers/hbase/lib/hive-hcatalog-hbase-storage-handler-0.13.1-cdh5.2.1.jar,$HCAT_LIB_DIR/hcatalog/hive-hcatalog-streaming.jar,$HCAT_LIB_DIR/hcatalog/hive-hcatalog-pig-adapter.jar,$HCAT_LIB_DIR/hcatalog/hive-hcatalog-core-0.13.1-cdh5.2.1.jar,$HCAT_LIB_DIR/hcatalog/hive-hcatalog-streaming-0.13.1-cdh5.2.1.jar,$HCAT_LIB_DIR/hcatalog/hive-hcatalog-pig-adapter-0.13.1-cdh5.2.1.jar,$HCAT_LIB_DIR/hcatalog/hive-hcatalog-server-extensions-0.13.1-cdh5.2.1.jar

GUAVA14_JAR=/usr/share/cmf/lib/guava-14.0.jar

spark-shell --jars ../target/sparkhcat-0.0.1-SNAPSHOT.jar,$GUAVA14_JAR,$HIVE_CLASSPATH,$HCAT_CLASSPATH -i count.scala
